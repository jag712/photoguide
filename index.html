<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>이쉐키들아.. 좀 열심히 해보자.. (✨)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Chosen Palette: Calm Harmony Neutrals -->
    <!-- Application Structure Plan: 사람쉐키면 알아서 쓸 줄 알겠지.. -->
    <!-- Visualization & Content Choices: 
        - [노출 값 비교] -> Goal: Compare -> Viz: Bar Chart -> Interaction: Hover for details -> Justification: 셔터 속도와 조리개 값의 단계별 변화(빛의 양이 두 배/절반이 되는 관계)를 시각적으로 명확하게 보여주어 스톱 개념을 직관적으로 이해시킵니다. -> Library: Chart.js (Canvas).
        - [Q&A 목록] -> Goal: Organize/Inform -> Viz: Accordion List -> Interaction: Click to expand/collapse answer, Click Gemini buttons for modal content -> Justification: 방대한 양의 질문과 답변을 깔끔하게 정리하고, 사용자가 관심 있는 질문에만 집중하여 화면의 복잡도를 낮추고 가독성을 높입니다. -> Library/Method: HTML/CSS/JS.
        - [Gemini 기능] -> Goal: Explain/Explore/Test -> Viz: Modal Window -> Interaction: Click button to generate content -> Justification: LLM을 통해 생성된 추가 정보를 기존 UI를 해치지 않는 모달 창에 표시하여 심화 학습 및 자가 진단 기능을 제공합니다. -> Library/Method: JS Fetch API, HTML/CSS.
        - [전체 콘텐츠 검색] -> Goal: Explore -> Viz: Input Field -> Interaction: Type to filter -> Justification: 사용자가 특정 용어나 개념을 빠르게 찾을 수 있도록 하여 학습 효율성을 극대화하는 필수적인 탐색 도구입니다. -> Library/Method: JS.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Pretendard', sans-serif;
            background-color: #F8F7F4;
            color: #4A4A4A;
        }
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
        .nav-item {
            transition: all 0.2s ease-in-out;
        }
        .nav-item.active {
            background-color: #4A5568;
            color: #FFFFFF;
            transform: translateX(4px);
        }
        .nav-item:not(.active):hover {
            background-color: #E2E8F0;
            color: #2D3748;
        }
        .content-card {
            background: #FFFFFF;
            border: 1px solid #E2E8F0;
            border-radius: 0.75rem;
            transition: box-shadow 0.3s ease-in-out;
        }
        .content-card:hover {
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .question {
            cursor: pointer;
        }
        .answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out, padding 0.5s ease-in-out;
            padding: 0 1.5rem;
        }
        .answer.open {
            max-height: 1000px;
            padding: 1.5rem 1.5rem;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 40vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #F1F1F1; }
        ::-webkit-scrollbar-thumb { background: #A0AEC0; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #718096; }
        .modal-overlay {
            transition: opacity 0.3s ease;
        }
        .modal-content {
            transition: transform 0.3s ease;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #4A5568;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .gemini-btn {
            background-color: #f0f4f8;
            color: #4A5568;
            transition: all 0.2s ease;
        }
        .gemini-btn:hover {
            background-color: #e2e8f0;
            color: #2D3748;
            transform: translateY(-1px);
        }
        .quiz-option {
            border: 2px solid #E2E8F0;
            transition: all 0.2s ease;
        }
        .quiz-option:hover {
            border-color: #4A5568;
            background-color: #f7fafc;
        }
        .quiz-option.selected {
            border-color: #4A5568;
            background-color: #E2E8F0;
        }
        .quiz-option.correct {
            background-color: #C6F6D5;
            border-color: #38A169;
        }
        .quiz-option.incorrect {
            background-color: #FED7D7;
            border-color: #E53E3E;
        }
    </style>
</head>
<body class="antialiased">
    <div class="flex flex-col md:flex-row min-h-screen">
        <nav class="w-full md:w-64 bg-white md:bg-gray-100 p-4 md:p-6 shadow-md md:shadow-none shrink-0">
            <div class="flex items-center mb-6">
                <i class="fas fa-camera-retro text-3xl text-gray-700 mr-3"></i>
                <h1 class="text-xl font-bold text-gray-800">사진학 가이드 ✨</h1>
            </div>
            <div class="mb-4">
                <input type="text" id="searchInput" placeholder="용어 검색..." class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400">
            </div>
            <ul>
                <li><a href="#" class="nav-item block py-3 px-4 mb-2 rounded-lg font-semibold text-gray-700 active" data-category="intro">소개 및 시각화</a></li>
                <li><a href="#" class="nav-item block py-3 px-4 mb-2 rounded-lg font-semibold text-gray-700" data-category="structure">카메라 구조와 원리</a></li>
                <li><a href="#" class="nav-item block py-3 px-4 mb-2 rounded-lg font-semibold text-gray-700" data-category="exposure">노출</a></li>
                <li><a href="#" class="nav-item block py-3 px-4 mb-2 rounded-lg font-semibold text-gray-700" data-category="lens">렌즈와 광학</a></li>
                <li><a href="#" class="nav-item block py-3 px-4 mb-2 rounded-lg font-semibold text-gray-700" data-category="digital">디지털</a></li>
                <li><a href="#" class="nav-item block py-3 px-4 mb-2 rounded-lg font-semibold text-gray-700" data-category="history">사진사 & 사조</a></li>
                <li><a href="#" class="nav-item block py-3 px-4 mb-2 rounded-lg font-semibold text-gray-700" data-category="film">필름과 현상</a></li>
                <li><a href="#" class="nav-item block py-3 px-4 mb-2 rounded-lg font-semibold text-gray-700" data-category="lighting">조명과 필터</a></li>
            </ul>
             <div class="mt-6">
                <button id="quizBtn" class="w-full bg-gray-700 text-white font-bold py-3 px-4 rounded-lg hover:bg-gray-800 transition-colors">✨ AI 퀴즈 생성</button>
            </div>
        </nav>

        <main id="mainContent" class="flex-1 p-4 md:p-10 overflow-y-auto">
        </main>
    </div>

    <!-- Gemini Modal -->
    <div id="geminiModal" class="modal-overlay fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden opacity-0">
        <div class="modal-content bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col transform scale-95">
            <div class="flex justify-between items-center p-4 border-b">
                <h3 id="modalTitle" class="text-xl font-bold text-gray-800">Gemini AI</h3>
                <button id="closeModal" class="text-gray-500 hover:text-gray-800 text-2xl font-bold">&times;</button>
            </div>
            <div id="modalBody" class="p-6 overflow-y-auto">
                <div class="flex items-center justify-center h-40">
                    <div class="loader"></div>
                </div>
            </div>
        </div>
    </div>

<script>
const photographyData = {
    structure: [
        { q: "거리계 창", a: "RF(레인지파인더) 카메라에서 초점을 맞추기 위해 사용하는 창." },
        { q: "대형 카메라", a: "4x5인치 이상의 시트 필름을 사용하는 카메라로, 최고 화질과 무브먼트 기능을 가짐." },
        { q: "미러 (Mirror)", a: "DSLR 내부에서 렌즈를 통과한 빛을 뷰파인더로 반사시키는 거울." },
        { q: "OVF (Optical Viewfinder)", a: "광학식 뷰파인더. DSLR에서 미러와 펜타프리즘을 통해 렌즈로 들어오는 상을 직접 보는 방식." },
        { q: "펜타프리즘 (Pentaprism)", a: "DSLR에서 미러에 반사된 상의 좌우를 바로잡아 뷰파인더로 보여주는 오각기둥 프리즘." },
        { q: "포컬 플레인 셔터", a: "센서나 필름 바로 앞에 위치한 셔터. 고속 셔터 구현에 유리." },
        { q: "RF (Rangefinder) 카메라", a: "거리계 연동 카메라. 뷰파인더와 렌즈가 분리되어 시차가 발생." },
        { q: "롤 필름", a: "롤 형태로 말려있는 필름 (135, 120, 220 포맷 등)." },
        { q: "소형 카메라", a: "35mm(135) 포맷 이하의 필름이나 센서를 사용하는 카메라." },
        { q: "시야율", a: "뷰파인더에 보이는 영역이 실제 촬영되는 이미지 영역의 몇 퍼센트인지 나타내는 비율." },
        { q: "시차 (Parallax)", a: "뷰파인더로 보는 상과 렌즈를 통해 실제 찍히는 상의 위치 차이. (RF, TLR 카메라)" },
        { q: "시트 필름", a: "한 장씩 사용하는 낱장 필름으로, 주로 대형 카메라에 사용." },
        { q: "중형 카메라", a: "120/220 롤 필름을 사용하는 카메라 (6x4.5, 6x6, 6x7 등)." },
        { q: "콤팩트 카메라", a: "렌즈 교환이 불가능한 소형 자동 카메라." },
        { q: "TLR 카메라", a: "상단의 보는 렌즈와 하단의 촬영 렌즈가 분리된 이안 반사식 카메라." }
    ],
    exposure: [
        { q: "가이드 넘버 (GN)", a: "플래시의 광량을 나타내는 수치. GN = f값 × 거리로 계산." },
        { q: "감도 (ISO)", a: "빛에 반응하는 필름/센서의 민감도." },
        { q: "노출 (Exposure)", a: "센서나 필름에 도달하는 빛의 총량으로, 조리개, 셔터 속도, ISO로 조절됨." },
        { q: "등가노출", a: "조리개와 셔터속도 조합을 바꿔도 빛의 총량이 같아 동일한 노출을 얻는 것. (상반법칙 기반)" },
        { q: "반사식 노출계", a: "피사체에서 반사되는 빛을 측정하는 노출계. 카메라에 내장된 TTL 방식이 대표적." },
        { q: "벌브(b) 셔터", a: "셔터 버튼을 누르고 있는 동안 셔터가 계속 열려있는 모드." },
        { q: "부분측광", a: "화면 중앙의 일부 영역(약 6.5%)만으로 노출을 측정하는 방식." },
        { q: "상반법칙", a: "빛의 강도(조리개)와 노출 시간(셔터속도)의 곱이 같으면 결과물의 밝기도 같다는 원리." },
        { q: "셔터우선식", a: "촬영자가 셔터 속도를 설정하면 카메라가 조리개를 자동으로 맞추는 노출 모드." },
        { q: "스톱 (Stop)", a: "노출의 기본 단위로, 빛의 양이 두 배 또는 절반으로 변하는 단계." },
        { q: "스팟측광", a: "화면 중앙의 매우 좁은 영역(약 1.5%)만으로 정밀하게 노출을 측정하는 방식." },
        { q: "입사식 노출계", a: "피사체에 도달하는 빛의 양을 직접 측정하는 노출계." },
        { q: "적정 노출", a: "작가의 의도에 맞게 장면의 밝기가 적절히 표현된 노출." },
        { q: "중앙중점 평균측광", a: "화면 중앙부에 비중을 두고 전체적으로 노출을 측정하는 방식." },
        { q: "평가측광", a: "화면 전체를 여러 영역으로 나눠 분석하여 노출을 결정하는 가장 일반적인 측광 방식." },
        { q: "i 셔터 (Instantaneous)", a: "설정된 시간만큼 셔터가 자동으로 열리고 닫히는 일반 촬영 모드." },
        { q: "t 셔터 (Time)", a: "셔터 버튼을 한 번 누르면 열리고, 다시 누를 때까지 계속 열려있는 모드." },
        { q: "TTL (Through-The-Lens)", a: "렌즈를 통해 들어온 빛을 측정하는 방식." }
    ],
    lens: [
        { q: "과초점거리", a: "무한대까지 초점이 맞기 시작하는 가장 가까운 거리." },
        { q: "광각렌즈", a: "표준렌즈보다 초점거리가 짧아 넓은 화각과 원근감 왜곡을 만드는 렌즈." },
        { q: "광량 균일성", a: "렌즈를 통해 들어오는 빛이 이미지 센서 전체에 고르게 분포하는 정도." },
        { q: "구면수차", a: "렌즈 중심과 주변을 통과한 빛이 서로 다른 지점에 초점을 맺는 수차." },
        { q: "단렌즈", a: "초점거리가 고정된 렌즈. 줌렌즈보다 화질이 좋고 밝은 경우가 많음." },
        { q: "망원렌즈", a: "표준렌즈보다 초점거리가 길어 좁은 화각으로 피사체를 확대하고 배경을 압축하는 렌즈." },
        { q: "매크로 렌즈", a: "피사체를 실물 크기(1:1 배율)에 가깝게 촬영할 수 있는 접사 전용 렌즈." },
        { q: "무브먼트 (Movement)", a: "대형 카메라에서 왜곡 보정 및 초점면 제어를 위해 렌즈나 필름 면을 움직이는 기능." },
        { q: "라이즈/폴 (Rise/Fall)", a: "대형 카메라 무브먼트의 한 종류로, 렌즈를 수직으로 상하 이동시키는 기능." },
        { q: "쉬프트 (Shift)", a: "대형 카메라 무브먼트의 한 종류로, 렌즈를 수평으로 좌우 이동시키는 기능." },
        { q: "스윙 (Swing)", a: "대형 카메라 무브먼트의 한 종류로, 렌즈나 필름 면을 좌우로 회전시키는 기능." },
        { q: "틸트 (Tilt)", a: "대형 카메라 무브먼트의 한 종류로, 렌즈나 필름 면을 상하로 기울이는 기능." },
        { q: "배경 압축", a: "망원렌즈 사용 시 원근감이 줄어들어 배경이 실제보다 피사체에 가깝게 당겨져 보이는 효과." },
        { q: "벨로우즈", a: "렌즈와 카메라 바디 사이에 장착하는 주름상자 형태의 접사 액세서리." },
        { q: "비구면 렌즈", a: "렌즈 표면을 비구면으로 깎아 구면수차를 효과적으로 보정하는 렌즈." },
        { q: "비점수차", a: "렌즈의 한 점에서 나온 빛이 서로 다른 거리에 수직 및 수평선을 맺는 수차." },
        { q: "상면만곡", a: "평면인 피사체의 상이 렌즈를 통과한 후 곡면으로 맺히는 수차." },
        { q: "수차 (Aberration)", a: "렌즈의 물리적 한계로 인해 상이 한 점에 정확히 맺히지 못하는 현상." },
        { q: "시프트렌즈", a: "렌즈를 상하좌우로 평행 이동시켜 원근 왜곡을 보정하는 렌즈. (무브먼트 기능 구현)" },
        { q: "샤임플러그 법칙", a: "렌즈면, 필름면, 초점면이 한 선에서 만나면 피사체 전체에 초점을 맞출 수 있다는 원리." },
        { q: "어안렌즈", a: "화각이 180도에 가까운 초광각 렌즈로, 화면이 둥글게 왜곡되어 독특하고 과장된 표현을 만듦." },
        { q: "연초점렌즈 (Soft Focus Lens)", a: "의도적으로 수차를 남겨 이미지를 부드럽게 표현하는 렌즈." },
        { q: "원근감", a: "사진 속 공간의 깊이감. 광각렌즈를 사용하고 가까이서 찍을수록 강조됨." },
        { q: "유효 구경", a: "렌즈에서 빛이 실제로 통과하는 구멍의 직경." },
        { q: "이미지 서클 (Image Circle)", a: "렌즈가 만들어내는 원형의 선명한 상의 범위." },
        { q: "임계 초점면", a: "가장 선명한 초점이 맺히는 가상의 평면." },
        { q: "자이델 5수차", a: "렌즈에서 발생하는 대표적인 5가지 단색 수차 (구면, 코마, 비점, 상면만곡, 왜곡)." },
        { q: "제2주점", a: "렌즈의 광학적 중심점으로, 초점거리 측정의 기준이 되는 지점." },
        { q: "접사", a: "피사체에 매우 가깝게 다가가 촬영하는 것." },
        { q: "접사 튜브 (중간 링)", a: "렌즈와 바디 사이에 장착하여 촬영 배율을 높이는 접사 액세서리." },
        { q: "접사 필터", a: "렌즈 앞에 장착하는 돋보기 같은 필터로, 최소 초점 거리를 줄여줌." },
        { q: "존 포커싱 (Zone Focusing)", a: "특정 거리 영역 전체에 초점이 맞도록 미리 설정하고 빠르게 촬영하는 기법." },
        { q: "줌렌즈", a: "초점거리를 연속적으로 변경할 수 있는 렌즈." },
        { q: "착란원", a: "초점이 맞지 않은 점광원이 필름/센서에 맺히는 흐릿한 원형의 상." },
        { q: "초점거리", a: "렌즈의 중심점(제2주점)에서 센서(초점면)까지의 거리. 화각을 결정함." },
        { q: "코마수차", a: "렌즈 주변부로 들어온 빛이 혜성 꼬리처럼 번져 보이는 수차." },
        { q: "코팅", a: "렌즈 표면에 얇은 막을 입혀 반사를 줄이고 투과율을 높이는 처리." },
        { q: "피사계심도 (DOF)", a: "사진에서 초점이 맞은 것으로 인식되는 공간의 깊이 범위." },
        { q: "플레어 (Flare)", a: "강한 빛이 렌즈 내부에서 난반사되어 생기는 빛의 얼룩." },
        { q: "허용착란원", a: "초점이 맞았다고 인식될 수 있는 착란원의 최대 허용 크기. 피사계심도 계산의 기준이 됨." },
        { q: "ED (Extra-low Dispersion) 렌즈", a: "특수 저분산 유리를 사용하여 색수차를 줄인 렌즈." },
        { q: "F-number (f/값)", a: "조리개 구멍의 크기를 나타내는 수치." },
        { q: "L 렌즈", a: "캐논의 전문가용 고급 렌즈군 (Luxury)." },
        { q: "리버스 링", a: "렌즈를 뒤집어 바디에 장착하여 고배율 접사를 가능하게 하는 액세서리." }
    ],
    digital: [
        { q: "가상 드럼 스캐너", a: "드럼 스캐너와 유사한 고품질 스캔 방식." },
        { q: "감마 (Gamma)", a: "디스플레이의 입력 신호와 실제 밝기 출력 간의 비선형 관계를 나타낸 값." },
        { q: "계단현상 (Aliasing)", a: "이미지의 경계선이나 그라데이션이 계단처럼 깨져 보이는 현상." },
        { q: "글로벌셔터 (Global Shutter)", a: "센서의 모든 픽셀이 동시에 빛을 기록하는 방식으로, 롤링셔터 왜곡이 없음." },
        { q: "노이즈 (Noise)", a: "고감도나 장노출 시 이미지에 생기는 불규칙한 점이나 얼룩." },
        { q: "다이내믹 레인지 (DR)", a: "이미지 센서가 한 번에 기록할 수 있는 가장 어두운 부분부터 가장 밝은 부분까지의 범위." },
        { q: "디지털 은염(C) 프린터", a: "디지털 데이터를 인화지에 레이저로 노광한 뒤 화학 처리로 출력하는 방식." },
        { q: "드럼 스캐너", a: "최고 품질의 스캔이 가능한 고성능 스캐너." },
        { q: "롤링셔터 (Rolling Shutter)", a: "센서가 이미지를 순차적으로 읽어들여 빠른 움직임이 왜곡되는 현상 (젤로 현상)." },
        { q: "루미넌스 노이즈", a: "노이즈의 종류로, 이미지의 밝기 값에 나타나는 불규칙한 입자." },
        { q: "레이저 프린터", a: "토너 가루를 용지에 정전기로 부착시킨 뒤 열로 고정하는 방식의 프린터." },
        { q: "모아레 (Moiré)", a: "피사체의 반복적인 패턴이 센서 픽셀과 간섭하여 생기는 물결무늬 왜곡." },
        { q: "미러리스 카메라", a: "DSLR의 미러와 펜타프리즘을 제거하고 전자식 뷰파인더(EVF)를 사용하는 카메라." },
        { q: "밝기 (Brightness)", a: "빛 자체의 물리적 양." },
        { q: "벡터 이미지", a: "수학적 연산으로 이미지를 구성하여 확대해도 깨지지 않는 방식. (AI, EPS 파일)" },
        { q: "비트(bit)", a: "디지털 정보의 가장 작은 단위." },
        { q: "비트맵 (래스터) 이미지", a: "픽셀(점) 단위로 이미지를 구성하는 방식. 확대하면 깨짐. (JPEG, TIFF 파일)" },
        { q: "비트심도 (Bit Depth)", a: "디지털 이미지의 각 픽셀이 표현할 수 있는 색상 및 톤 정보의 정밀도." },
        { q: "블루밍 (Blooming)", a: "강한 빛이 센서의 포화 용량을 넘어 주변 픽셀로 번지는 현상." },
        { q: "색공간 (Color Space)", a: "디지털에서 표현하거나 정의할 수 있는 색상의 총 범위." },
        { q: "색역 (Gamut)", a: "특정 장치가 실제로 재현할 수 있는 색의 범위." },
        { q: "색의 3속성", a: "색을 구성하는 세 가지 요소 (색상, 채도, 명도)." },
        { q: "스미어 (Smear)", a: "CCD 센서에서 강한 빛이 들어올 때 수직으로 빛의 띠가 생기는 현상." },
        { q: "스캐너", a: "아날로그 이미지(필름, 인화지)를 디지털 파일로 변환하는 장치." },
        { q: "스풀 (Spool)", a: "인쇄 데이터를 프린터로 보내기 전 임시 저장하는 공간이나 기능." },
        { q: "안료 잉크", a: "입자 형태의 잉크. 보존성은 좋으나 색 표현 영역은 염료보다 좁음." },
        { q: "염료 잉크", a: "액체에 완전히 녹는 잉크. 색 표현 영역은 넓으나 보존성은 안료보다 약함." },
        { q: "염료승화 프린터", a: "열을 가해 잉크를 기화시켜 용지에 색을 입히는 방식의 프린터." },
        { q: "원색", a: "다른 색을 섞어 만들 수 없는 기본 색 (빛: RGB, 색료: CMY)." },
        { q: "유효 화소", a: "이미지 센서에서 실제로 이미지를 형성하는 데 사용되는 화소의 수." },
        { q: "잉크젯 프린터", a: "미세한 잉크 방울을 용지에 분사하여 이미지를 만드는 프린터." },
        { q: "저역통과필터 (AA 필터)", a: "모아레 현상을 줄이기 위해 센서 앞에 장착하는 필터." },
        { q: "전자 셔터", a: "기계적 움직임 없이 전자적으로 센서 노출을 제어하는 셔터. 롤링셔터 왜곡이 발생할 수 있음." },
        { q: "조도 (Lux)", a: "특정 면에 도달하는 빛의 양." },
        { q: "채널 (Channel)", a: "이미지를 구성하는 색상 정보의 단위 (예: RGB 채널, CMYK 채널)." },
        { q: "채도 (Saturation)", a: "색의 맑고 탁한 정도, 즉 순도." },
        { q: "캘리브레이션 (Calibration)", a: "장비(모니터, 프린터)의 색상 표현을 표준에 맞게 교정하는 작업." },
        { q: "컬러 노이즈", a: "노이즈의 종류로, 이미지에 나타나는 불규칙한 색상 얼룩." },
        { q: "컬러미터", a: "모니터 캘리브레이션에 사용되는 색 측정 장치." },
        { q: "크롭바디", a: "35mm 필름보다 작은 센서를 가진 카메라." },
        { q: "탁색", a: "순색에 무채색이나 보색이 섞여 채도가 낮아진 색." },
        { q: "틴트 (Tint) 메뉴", a: "RAW 변환 프로그램에서 이미지의 녹색(Green)과 자홍색(Magenta) 균형을 조절하는 메뉴." },
        { q: "톤 (Tone)", a: "사진의 전체적인 밝기, 명암, 색감 등이 어우러져 만들어내는 분위기." },
        { q: "톤 앤 매너", a: "작품의 분위기와 스타일을 일관되게 유지하는 것." },
        { q: "파노라마 합성", a: "여러 장의 사진을 이어 붙여 하나의 넓은 화각의 사진으로 만드는 기법." },
        { q: "평판 스캐너", a: "평평한 유리판 위에 원고를 올려놓고 스캔하는 방식." },
        { q: "풀프레임 바디", a: "35mm 필름과 동일한 크기(36x24mm)의 센서를 사용하는 카메라." },
        { q: "플리커 (Flicker)", a: "형광등과 같은 인공 광원에서 발생하는 빛의 미세한 깜빡임 현상." },
        { q: "픽셀 (Pixel)", a: "디지털 이미지를 구성하는 가장 작은 단위(점)." },
        { q: "필름 스캐너", a: "필름(네거티브, 슬라이드)을 스캔하기 위해 특화된 스캐너." },
        { q: "해상도 (Resolution)", a: "이미지가 얼마나 많은 픽셀(점)로 이루어졌는지를 나타내는 수치." },
        { q: "화이트 밸런스", a: "특정 광원 아래에서 흰색을 흰색으로 보이도록 색온도를 보정하는 기능." },
        { q: "환산 초점거리", a: "크롭바디에서 풀프레임 기준으로 화각을 변환한 초점거리." },
        { q: "휘도 (Nit)", a: "특정 면에서 반사되어 우리 눈으로 들어오는 빛의 양." },
        { q: "히스토그램", a: "이미지의 밝기 분포를 보여주는 그래프." },
        { q: "AI (Adobe Illustrator) 파일", a: "어도비 일러스트레이터의 벡터 파일 형식." },
        { q: "CCD 센서", a: "이미지 센서의 한 종류." },
        { q: "CMS (Color Management System)", a: "장비 간 색상을 일관되게 관리하는 시스템." },
        { q: "CMOS 센서", a: "이미지 센서의 한 종류. 현재 대부분의 카메라에서 사용." },
        { q: "CMYK", a: "인쇄에 사용되는 색상 모델 (Cyan, Magenta, Yellow, Key=Black)." },
        { q: "CPU", a: "중앙처리장치. 컴퓨터의 연산을 담당." },
        { q: "CRT 모니터", a: "과거의 브라운관 모니터." },
        { q: "Display P3", a: "애플 기기 등에서 표준으로 사용하는, sRGB보다 넓은 색공간." },
        { q: "DNG (Digital Negative)", a: "어도비가 만든 표준 RAW 파일 포맷." },
        { q: "DPI (Dots Per Inch)", a: "인쇄 해상도 단위. 1인치당 점의 수." },
        { q: "DSLR", a: "디지털 일안 반사식 카메라." },
        { q: "EPS 파일", a: "벡터와 비트맵 정보를 포함하는 그래픽 파일 형식." },
        { q: "EVF (Electronic Viewfinder)", a: "전자식 뷰파인더. 미러리스 카메라에 사용됨." },
        { q: "Grayscale", a: "색상 정보 없이 밝기 정보만으로 이미지를 표현하는 흑백 모드." },
        { q: "GPU", a: "그래픽처리장치. 이미지 및 영상 처리를 가속." },
        { q: "HDD", a: "하드디스크 드라이브. 자기 디스크 방식의 저장 장치." },
        { q: "HDR (High Dynamic Range)", a: "노출이 다른 여러 사진을 합성하여 명암 표현 범위를 넓히는 기술." },
        { q: "HEIF", a: "JPEG보다 압축 효율이 높은 이미지 포맷." },
        { q: "ICC 프로파일", a: "장치의 색상 특성을 기록한 파일로, CMS의 핵심." },
        { q: "JPEG", a: "손실 압축 방식의 표준 이미지 파일." },
        { q: "LCD 모니터", a: "액정을 이용해 화면을 표시하는 모니터." },
        { q: "LPI (Lines Per Inch)", a: "인쇄 스크린 선 수 단위. 인쇄물의 정밀도를 나타냄." },
        { q: "OLED 모니터", a: "자체 발광 소자를 사용하는 디스플레이." },
        { q: "PNG", a: "비손실 압축 이미지 포맷으로, 투명 배경을 지원." },
        { q: "PPI (Pixels Per Inch)", a: "디스플레이 해상도 단위. 1인치당 픽셀 수." },
        { q: "ProPhoto RGB", a: "전문가용 사진 작업에 사용되는 매우 넓은 색공간." },
        { q: "PSD 파일", a: "포토샵 전용 파일 형식으로, 레이어 등 편집 정보를 저장." },
        { q: "RAM", a: "임시 기억 장치. 용량이 클수록 다중 작업에 유리." },
        { q: "RAW", a: "카메라 센서의 원본 데이터 파일." },
        { q: "Rec.709 / Rec.2020", a: "각각 HDTV, UHDTV의 표준 영상 색공간." },
        { q: "RGB", a: "빛의 삼원색. 디지털 디스플레이의 색상 표현 방식." },
        { q: "sRGB", a: "웹과 일반 모니터의 표준 색공간." },
        { q: "SSD", a: "반도체 기반의 빠른 저장 장치." },
        { q: "TIFF", a: "비손실 압축을 지원하는 고화질 이미지 포맷." },
        { q: "Working Space", a: "포토샵 등에서 이미지를 편집할 때 기준으로 사용하는 색공간." },
        { q: "XMP", a: "RAW 파일의 보정 정보를 저장하는 사이드카 파일 또는 메타데이터 형식." }
    ],
    history: [
        { q: "게리 위노그랜드", a: "1960-70년대 미국의 스트리트 포토그래퍼. '뉴 도큐먼츠' 참여." },
        { q: "결정적 순간", a: "앙리 카르티에 브레송이 제시한, 구도, 내용, 감정이 완벽하게 일치하는 찰나의 순간." },
        { q: "구성주의", a: "러시아에서 발생한 예술 운동. 급진적 구도와 기하학적 형태를 강조." },
        { q: "나다르", a: "19세기 프랑스 사진가. 최초의 항공사진, 인공광 촬영 시도." },
        { q: "낸 골딘", a: "자신의 사적인 삶을 솔직하게 기록한 다이어리 형식의 사진가." },
        { q: "뉴 컬러 (New Color)", a: "1970년대 컬러 필름을 예술사진의 매체로 끌어올린 사진 경향." },
        { q: "뉴 도큐먼츠 (New Documents)", a: "1967년 MoMA 전시로, 다큐멘터리 사진의 주관적, 개인적 시선을 보여줌." },
        { q: "뉴 비전 (New Vision)", a: "바우하우스를 중심으로 사진을 기계 시대의 새로운 시각 확장 도구로 본 운동." },
        { q: "뉴 토포그라픽스 (New Topographics)", a: "인간에 의해 변형된 풍경을 감정 없이 기록적으로 담아낸 사진 경향." },
        { q: "니엡스", a: "1826년 세계 최초의 사진(헬리오그래피)을 발명한 인물." },
        { q: "다게르", a: "1839년 다게레오타입을 발명한 프랑스 사진가." },
        { q: "다게레오타입", a: "다게르가 발명한 은판 사진법. 복제는 불가능하지만 화질이 매우 선명함." },
        { q: "다다이즘", a: "기존 예술 형식을 파괴하려 한 예술 운동으로, 사진에서는 포토몽타주 기법을 사용함." },
        { q: "다이안 아버스", a: "사회적 소수자를 정면으로 응시하며 촬영한 사진가. '뉴 도큐먼츠' 참여." },
        { q: "데이비드 시모어", a: "매그넘 창립 멤버." },
        { q: "도로시어 랭", a: "FSA 소속으로 활동하며 '이주노동자 어머니' 등 상징적인 사진을 남긴 여성 사진가." },
        { q: "듀안 마이클", a: "여러 장의 사진을 연속적으로 배열하는 '시퀀스 포토' 형식으로 이야기를 만든 작가." },
        { q: "랄프 깁슨", a: "강한 명암 대비와 기하학적 구성을 통해 상징적 이미지를 만든 작가." },
        { q: "레이요그라피", a: "만 레이가 자신의 포토그램 작업에 붙인 이름." },
        { q: "로버트 메이플소프", a: "남성 누드, 동성애 등 금기된 주제를 고전적 조형미로 표현한 사진가." },
        { q: "로버트 아담스", a: "'뉴 토포그라픽스' 사진가로, 개발로 변해가는 미국 서부 풍경을 기록." },
        { q: "로버트 카파", a: "'넘어지는 병사'로 유명한 전쟁 보도사진가, 매그넘 창립 멤버." },
        { q: "로버트 프랭크", a: "사진집 '미국인들'을 통해 미국 사회의 이면을 주관적 시선으로 기록." },
        { q: "로드첸코, 알렉산더", a: "러시아 구성주의 사진가. 과감한 앵글과 기하학적 구도를 사용." },
        { q: "롤랑 바르트", a: "'카메라 루시다'에서 스투디움과 푼크툼의 개념을 제시한 기호학자." },
        { q: "루이스 발츠", a: "'뉴 토포그라픽스' 사진가로, 산업 단지 등 인공적 풍경을 무표정하게 기록." },
        { q: "루이스 하인", a: "아동 노동의 실태를 고발하여 사회 변화에 기여한 다큐멘터리 사진가." },
        { q: "리 프리들랜더", a: "도시 풍경 속 그림자, 반사 등을 활용해 복잡한 시각적 구성을 만든 사진가. '뉴 도큐먼츠' 참여." },
        { q: "리처드 리치 매덕스", a: "젤라틴 건판법을 개발한 인물." },
        { q: "라이프 (LIFE)", a: "포토 에세이를 정착시키며 포토저널리즘의 황금기를 이끈 잡지." },
        { q: "마가렛 버크 화이트", a: "라이프지 최초의 여성 사진기자이자 산업, 보도 사진 분야의 선구자." },
        { q: "마이너 화이트", a: "'이퀴벌런트' 개념을 계승하고, 잡지 '어퍼쳐'를 창간한 추상사진가." },
        { q: "마틴 파", a: "소비문화와 관광 사회를 풍자적이고 과장된 컬러로 기록하는 매그넘 소속 작가." },
        { q: "만 레이", a: "다다이즘과 초현실주의 사진가. 레이요그라피(포토그램)로 유명." },
        { q: "매그넘 포토스", a: "카파, 브레송 등이 창립한, 사진가의 권익을 보호하는 국제 사진가 그룹." },
        { q: "메이킹 포토", a: "작가가 장면을 적극적으로 연출하여 만드는 사진." },
        { q: "모홀리 나기, 라즐로", a: "바우하우스의 교수로, '뉴 비전'을 이끌며 사진의 실험적 가능성을 확장." },
        { q: "미니멀리즘", a: "최소한의 요소와 단순한 형태로 본질을 표현하려는 예술 경향." },
        { q: "미치 엡스타인", a: "'뉴 컬러' 사진의 대표 작가 중 한 명." },
        { q: "바바라 크루거", a: "텍스트와 이미지를 결합하여 소비 사회와 권력 구조를 비판한 작가." },
        { q: "바우하우스", a: "예술과 기술의 통합을 추구한 독일의 디자인 학교 및 예술 운동." },
        { q: "발터 벤야민", a: "'기술복제 시대의 예술작품'에서 '아우라'의 개념을 제시한 철학자." },
        { q: "베르나르 포콩", a: "마네킹과 실제 아이들을 연출하여 유년 시절의 향수를 시적으로 재구성한 작가." },
        { q: "베허 부부", a: "유형학적 사진을 정립한 독일의 사진가 부부. 산업 건축물을 동일한 방식으로 촬영." },
        { q: "브라사이", a: "'밤의 파리' 시리즈로 유명한, 1930년대 파리의 밤 풍경과 사람들을 기록한 사진가." },
        { q: "브루스 데이비슨", a: "할렘, 브루클린 갱단 등 소외된 공동체에 깊이 파고들어 기록한 다큐멘터리 사진가." },
        { q: "사진분리파", a: "알프레드 스티글리츠가 주도한, 사진을 회화로부터 독립된 예술로 주장한 운동." },
        { q: "사진 에세이", a: "여러 장의 사진을 통해 하나의 이야기나 주제를 전달하는 포토저널리즘 형식." },
        { q: "샌디 스코글룬드", a: "비현실적인 색채의 공간을 직접 만들고 설치하여 촬영하는 연출사진가." },
        { q: "샤우덱, 얀", a: "사진에 직접 채색을 하여 에로틱하고 그로테스크한 분위기를 연출하는 작가." },
        { q: "소냐 노스코비아크", a: "f/64 그룹의 창립 멤버." },
        { q: "스티븐 쇼어", a: "'뉴 컬러' 사진가로, 대형 카메라를 이용해 미국 일상의 풍경을 객관적으로 기록." },
        { q: "알프레드 스티글리츠", a: "사진분리파 운동을 이끌며 미국 현대사진의 기틀을 마련한 사진가." },
        { q: "시퀀스 포토", a: "듀안 마이클이 사용한, 여러 장의 사진을 연속적으로 배열해 이야기를 만드는 방식." },
        { q: "신디 셔먼", a: "작가 자신이 직접 모델이 되어 대중매체 속 여성 이미지를 재현하고 해체하는 작업을 함." },
        { q: "신조형주의", a: "마이너 화이트, 아론 시스킨드 등 추상적이고 내면적인 표현을 추구한 사진 경향." },
        { q: "스트레이트 포토그래피", a: "사진 고유의 특성을 살려 대상을 정직하게 묘사하려는 경향." },
        { q: "아방가르드", a: "기존 예술의 틀을 깨려는 전위적인 예술 운동." },
        { q: "아라키 노부요시", a: "성(에로스)과 죽음(타나토스)을 주제로 사적인 일상을 노골적으로 기록한 일본 사진가." },
        { q: "아론 시스킨드", a: "추상표현주의의 영향을 받아 벽의 낙서나 얼룩 등을 평면적으로 촬영한 추상사진가." },
        { q: "아우라 (Aura)", a: "발터 벤야민이 제시한, 원본 예술작품만이 가지는 고유한 분위기나 기운." },
        { q: "안셀 아담스", a: "'존 시스템'을 창시하고 미국 서부의 웅장한 자연을 담은 풍경 사진의 대가." },
        { q: "앙드레 케르테츠", a: "일상의 순간을 시적이고 기하학적인 구도로 포착한 헝가리 출신 사진가." },
        { q: "앙리 카르티에 브레송", a: "'결정적 순간'의 개념을 정립한 스냅 사진의 대가. 매그넘 창립 멤버." },
        { q: "알베르트 랑어파취", a: "즉물주의 사진의 대표 작가 중 한 명." },
        { q: "알프레드 아이젠슈테트", a: "라이프지 소속으로 '타임스퀘어의 V-J 데이' 등 상징적 사진을 남긴 사진가." },
        { q: "에드워드 머이브릿지", a: "연속 촬영을 통해 인간과 동물의 움직임을 과학적으로 분석한 사진가. 영화의 선구자." },
        { q: "에드워드 스타이켄", a: "회화주의부터 상업사진까지 넘나들었으며, '인간 가족전'을 기획한 사진가이자 큐레이터." },
        { q: "에드워드 웨스턴", a: "f/64 그룹의 핵심 멤버로, 피망, 조개 등 일상 사물의 형태미를 극대화한 사진가." },
        { q: "에리히 잘로몬", a: "스냅 사진(Candid Photography)의 선구자로 알려진 독일의 사진가." },
        { q: "에로스/타나토스", a: "아라키 노부요시의 작업에서 나타나는 삶(성)과 죽음의 주제." },
        { q: "오스카 귀스타브 레일랜더", a: "여러 네거티브를 합성한 '두 갈래 길'로 유명한 회화주의 사진가." },
        { q: "워커 에반스", a: "FSA 소속으로 활동하며, 미국 대공황기의 모습을 냉정하고 객관적인 시선으로 기록." },
        { q: "윌러드 반 다이크", a: "f/64 그룹의 멤버." },
        { q: "윌리엄 이글스턴", a: "일상의 평범한 장면을 컬러로 담아 컬러 사진을 예술의 반열에 올린 '뉴 컬러'의 선구자." },
        { q: "윌리엄 클라인", a: "거칠고, 흔들리고, 과감한 스타일로 도시의 에너지를 담아낸 스트리트 포토그래퍼." },
        { q: "으젠느 앗제", a: "사라져가는 근대 파리의 모습을 방대하게 기록한 사진가." },
        { q: "유형학적 사진", a: "동일한 대상을 일관된 규칙으로 촬영, 병렬 배치하여 형태를 탐구하는 사진." },
        { q: "이모젠 커닝험", a: "f/64 그룹의 여성 멤버로, 식물 클로즈업과 인물 사진으로 유명." },
        { q: "이퀴벌런트 (Equivalent)", a: "스티글리츠의 작업. 구름 사진을 통해 자신의 내면과 감정을 표현한 추상적 사진." },
        { q: "인간 가족전", a: "에드워드 스타이켄이 기획한, 인류의 보편적 모습을 담은 대규모 사진전." },
        { q: "자연주의 사진", a: "인위적 연출을 배제하고 자연 그대로의 모습을 사실적으로 담으려는 사진 경향." },
        { q: "자콥 리스", a: "19세기 말 뉴욕 빈민가의 참상을 플래시를 이용해 고발한 사회개혁가이자 사진가." },
        { q: "잰 그루버", a: "상업 광고의 스타일을 차용하여 권력과 정체성의 문제를 다룬 포스트모더니즘 작가." },
        { q: "젠(禪) 사상", a: "마이너 화이트의 작업에 영향을 준 불교 사상." },
        { q: "제리 율스만", a: "암실에서 여러 네거티브를 정교하게 합성하여 초현실적인 이미지를 만든 사진가." },
        { q: "제프 월", a: "영화의 한 장면처럼 거대하고 정교하게 연출된 '타블로' 형식의 사진을 제작." },
        { q: "조엘 마이어로위츠", a: "'뉴 컬러' 사진가로, 거리와 풍경 속 빛과 색의 미묘한 변화를 포착." },
        { q: "조지 로저", a: "매그넘 창립 멤버." },
        { q: "조지 이스트만", a: "코닥(Kodak)을 창립하고 롤 필름을 대중화하여 사진을 누구나 즐길 수 있게 만든 사업가." },
        { q: "존 사코우스키", a: "MoMA의 사진 큐레이터로, '뉴 도큐먼츠', '창과 거울' 등 중요한 전시를 기획." },
        { q: "존 폴 에드워즈", a: "f/64 그룹의 멤버." },
        { q: "존 하트필드", a: "정치적 메시지를 담은 포토몽타주로 유명한 다다이즘 작가." },
        { q: "즉물주의 (New Objectivity)", a: "대상을 감정 없이 객관적이고 사실적으로 묘사하려는 사진 경향." },
        { q: "창과 거울", a: "존 사코우스키가 기획한 전시. 사진을 세상을 기록하는 '창'과 작가의 내면을 비추는 '거울'로 구분." },
        { q: "초현실주의", a: "꿈과 무의식의 세계를 표현하려 한 예술 사조." },
        { q: "추상사진", a: "구체적인 대상을 재현하기보다 선, 면, 질감 등 조형 요소 자체를 탐구하는 사진." },
        { q: "칼로타입", a: "탈보트가 발명한 종이 네거티브 사진법. 복제가 가능함." },
        { q: "카메라 워크", a: "알프레드 스티글리츠가 발행한, 사진분리파의 예술사진을 소개한 잡지." },
        { q: "칸디다 회퍼", a: "베허 부부의 제자. 인물이 없는 공공장소의 내부를 대칭적 구도로 촬영." },
        { q: "코닥 (Kodak)", a: "조지 이스트만이 설립한, 사진의 대중화를 이끈 대표적인 사진 기업." },
        { q: "콜라주", a: "서로 다른 재료를 화면에 붙여 구성하는 미술 기법." },
        { q: "콜로디온 습판법", a: "젖은 유리판에 감광유제를 발라 마르기 전에 촬영, 현상하는 방식." },
        { q: "탈보트", a: "1841년 칼로타입을 발명한 영국의 사진가." },
        { q: "토마스 루프", a: "베허 부부의 제자. 인물, 건축, 누드, 천체 등 다양한 주제를 개념적으로 접근." },
        { q: "토마스 스트루스", a: "베허 부부의 제자. 도시 풍경, 박물관 관람객, 가족사진 등을 대형 카메라로 촬영." },
        { q: "포스트모더니즘", a: "모더니즘 이후 등장한 예술 경향. 차용, 패러디, 장르 해체 등의 특징을 보임." },
        { q: "포토몽타주", a: "여러 사진을 오려 붙여 새로운 의미를 만드는 기법." },
        { q: "포토저널리즘", a: "보도를 목적으로 하는 사진." },
        { q: "폴 스트랜드", a: "즉물주의와 스트레이트 포토그래피의 선구자." },
        { q: "푼크툼 (Punctum)", a: "롤랑 바르트의 용어. 관람자의 감정을 '찌르는' 사진 속 사적인 요소." },
        { q: "프랭크 골케", a: "'뉴 토포그라픽스'의 대표 작가 중 한 명." },
        { q: "프레더릭 스콧 아처", a: "콜로디온 습판법을 개발한 인물." },
        { q: "프레드 아처", a: "안셀 아담스와 함께 존 시스템을 만든 인물." },
        { q: "피터 헨리 에머슨", a: "자연주의 사진을 주장한 사진가." },
        { q: "해리 캘러한", a: "아내 엘레노어 등 일상적 소재를 통해 빛과 형태를 탐구한 실험적 사진가." },
        { q: "헨리 피치 로빈슨", a: "'임종' 등 여러 사진을 합성하여 극적인 장면을 연출한 회화주의 사진가." },
        { q: "헬리오그래피", a: "니엡스가 발명한 세계 최초의 사진술." },
        { q: "회화주의 사진", a: "사진을 회화처럼 보이게 하려 한 19세기 후반의 예술 경향." },
        { q: "Aperture (어퍼쳐)", a: "마이너 화이트가 창간한, 예술사진 비평과 담론을 다룬 influential 사진 잡지." },
        { q: "f/64 그룹", a: "안셀 아담스, 에드워드 웨스턴 등이 활동한 스트레이트 포토그래피 그룹." },
        { q: "FSA (Farm Security Administration)", a: "미국 대공황기 농업안전국의 사진 기록 프로젝트." },
        { q: "Tableau (타블로)", a: "회화처럼 장면을 정교하게 연출하여 촬영하는 사진 형식. 제프 월이 대표적." },
        { q: "291 화랑", a: "알프레드 스티글리츠가 운영하며 유럽의 아방가르드 예술과 미국의 사진을 소개한 갤러리." }
    ],
    film: [
        { q: "감광유제", a: "필름 표면에 도포된, 빛에 반응하여 상을 형성하는 화학물질 (할로겐화은+젤라틴)." },
        { q: "감색성", a: "필름 유제가 빛의 파장(색)에 반응하는 특성. (하위 개념: 청감성, 정색성, 전정색성)" },
        { q: "계조 (Gradation)", a: "이미지의 가장 어두운 부분부터 밝은 부분까지의 톤 단계." },
        { q: "관용도 (Latitude)", a: "적정 노출을 벗어나도 이미지가 기록되는 허용 범위." },
        { q: "노광", a: "인화 과정에서 인화지에 빛을 주는 행위." },
        { q: "다계조 인화지", a: "필터를 이용해 한 장의 인화지에서 다양한 콘트라스트를 구현할 수 있는 인화지." },
        { q: "닷징 (Dodging)", a: "인화 시 특정 부분의 노광을 줄여 어두운 영역의 디테일을 살리는 기법." },
        { q: "리스필름", a: "청색과 녹색광에만 반응하는 정색성 필름의 예시." },
        { q: "반전욕", a: "포지티브 필름 현상 시 1차 현상 후 남은 은염을 감광시키는 화학 처리 과정." },
        { q: "발색", a: "컬러 필름 현상 시 현상액과 커플러가 반응하여 색상 염료를 생성하는 과정." },
        { q: "버닝 (Burning)", a: "인화 시 특정 부분에 노광을 더 주어 밝은 영역의 디테일을 살리는 기법." },
        { q: "베이스면", a: "필름의 지지체(플라스틱 기재)가 있는 면." },
        { q: "사바티에 효과", a: "현상 도중 필름을 빛에 재노출시켜 이미지의 윤곽선이 생기며 반전되는 효과." },
        { q: "상반칙 불궤", a: "극단적인 노출 시간에서 상반법칙이 깨지는 현상." },
        { q: "선예도 (Sharpness)", a: "이미지 경계선이 얼마나 뚜렷하고 명확하게 표현되는지를 나타내는 정도." },
        { q: "솔라리제이션", a: "극심한 과노출로 인해 필름 이미지가 반전되는 현상." },
        { q: "수세", a: "현상/정착 과정 후 필름이나 인화지에 남은 약품을 물로 씻어내는 과정." },
        { q: "스팟팅 (Spotting)", a: "인화물에 생긴 흰 점이나 먼지를 붓으로 수정하는 작업." },
        { q: "아카이벌 보존성", a: "사진이나 인화물이 변질 없이 장기간 보존될 수 있는 성질." },
        { q: "안정", a: "C-41 현상 프로세스의 마지막 단계로, 필름의 보존성을 높이는 처리." },
        { q: "안티컬링층", a: "필름이 말리는 것을 방지하는 층." },
        { q: "에칭 (Etching)", a: "인화물에 생긴 검은 점을 칼날 등으로 긁어내어 수정하는 작업." },
        { q: "염색 커플러", a: "컬러 필름 현상 시 발색 현상 주약과 반응하여 특정 색의 염료를 형성하는 화학 물질." },
        { q: "오렌지 마스킹", a: "컬러 네거티브 필름의 베이스층으로, 색 재현성을 높여주는 오렌지색 마스크." },
        { q: "유제면", a: "필름에서 감광유제가 발라진 면." },
        { q: "유제번호", a: "동일한 조건에서 생산된 필름 묶음을 식별하기 위한 번호." },
        { q: "은염", a: "할로겐화은의 다른 말. 필름의 감광 물질." },
        { q: "입상성 (Granularity)", a: "필름에 나타나는 은 입자의 거친 정도." },
        { q: "잠상", a: "필름이 빛에 노출된 후 현상하기 전까지 눈에 보이지 않는 상." },
        { q: "잠상퇴행", a: "촬영 후 현상하지 않은 필름의 잠상(보이지 않는 상)이 시간이 지나며 약해지는 현상." },
        { q: "정착", a: "현상 과정에서 빛에 반응하지 않은 할로겐화은을 제거하여 상을 고정시키는 과정." },
        { q: "젤라틴 건판법", a: "건조된 상태의 젤라틴 감광유제를 유리판에 도포한 방식으로, 사진의 대중화를 이끎." },
        { q: "증감현상", a: "실제 감도보다 높게 설정하고 촬영한 필름의 노출 부족을 보완하기 위해 현상 시간을 늘리는 것." },
        { q: "중간정지", a: "현상액의 알칼리성을 산성 용액으로 중화시켜 현상 작용을 멈추는 과정." },
        { q: "청감성", a: "필름 감색성의 한 종류로, 푸른색 파장에만 반응함." },
        { q: "컨디셔너", a: "E-6 현상 프로세스에서 표백 작용을 돕는 단계." },
        { q: "컬링 현상", a: "FB 인화지가 건조되면서 종이 섬유의 수축으로 인해 말리는 현상." },
        { q: "콘트라스트 (Contrast)", a: "이미지의 가장 밝은 부분과 어두운 부분의 밝기 차이." },
        { q: "크로마제닉 필름", a: "흑백 필름이지만 컬러 네거티브(C-41) 방식으로 현상하는 필름." },
        { q: "특성곡선", a: "노출량에 따른 필름의 농도 변화를 보여주는 그래프. (하위 개념: 베이스+포그, 발부, 직선부, 어깨부, 최대농도, 솔라리제이션)" },
        { q: "포그(Fog)", a: "빛 이외의 요인(화학, 물리 등)으로 인해 필름/인화지가 검게 변하는 현상." },
        { q: "포토그램 (Photogram)", a: "카메라 없이 인화지 위에 물체를 놓고 빛을 쬐어 이미지를 만드는 기법." },
        { q: "포토플로", a: "필름 건조 시 물 얼룩이 생기는 것을 방지하는 약품(습윤제)." },
        { q: "표백", a: "컬러 현상 과정에서 흑백의 은 이미지를 제거하고 염료 이미지만 남기는 단계." },
        { q: "플라스틱 기재", a: "필름 감광유제를 지지하는 투명한 플라스틱 베이스." },
        { q: "할레이션 방지층", a: "필름 베이스 뒷면에서 빛의 난반사를 막아주는 층." },
        { q: "할로겐화은", a: "빛에 반응하는 감광 물질로, 필름 감광유제의 핵심 성분." },
        { q: "현상", a: "빛을 받아 형성된 잠상을 약품 처리하여 눈에 보이는 실상으로 만드는 과정." },
        { q: "호수지 인화지", a: "콘트라스트가 등급(호수)별로 정해져 있는 인화지." },
        { q: "A-type / B-type Film", a: "각각 색온도 3400K, 3200K에 맞춰진 텅스텐 조명용 슬라이드 필름." },
        { q: "ASA", a: "과거 미국의 필름 감도 표준 규격. 현재 ISO와 수치가 같음." },
        { q: "C-41", a: "코닥에서 표준화한 컬러 네거티브 필름 현상 프로세스." },
        { q: "CI (Contrast Index)", a: "특성곡선 전체의 평균 기울기로, 보다 실용적인 콘트라스트 지표." },
        { q: "D-type / T-type Film", a: "각각 주광(Daylight), 텅스텐(Tungsten) 조명용 필름." },
        { q: "DIN", a: "과거 독일의 필름 감도 표준 규격. 3이 증가할 때마다 감도가 2배." },
        { q: "DX코드", a: "35mm 필름에 인쇄된 코드로, 카메라가 필름 정보를 자동 인식하게 함." },
        { q: "E-6", a: "코닥에서 표준화한 컬러 포지티브(슬라이드) 필름 현상 프로세스." },
        { q: "E.I. (Exposure Index)", a: "촬영자가 임의로 설정하는 실용 감도 지수." },
        { q: "EPT 필름", a: "코닥의 텅스텐용 슬라이드 필름 제품명. T는 텅스텐을 의미." },
        { q: "FB (Fiber Base) 인화지", a: "종이 섬유 기반의 인화지로, 보존성이 매우 우수함." },
        { q: "K-14", a: "코닥크롬 필름 전용 현상 프로세스." },
        { q: "L-type / S-type Film", a: "각각 장노출(Long), 단노출(Short)에서의 상반칙불궤를 보정한 필름." },
        { q: "RC (Resin Coated) 인화지", a: "양면에 수지 코팅이 된 인화지로, 작업이 빠르고 편리함." }
    ],
    lighting: [
        { q: "가변 ND 필터", a: "편광 필터 2장을 겹쳐 빛의 양을 연속적으로 조절하는 ND 필터." },
        { q: "고정 조리개", a: "줌렌즈에서 줌을 해도 조리개 최대 개방 값이 변하지 않는 렌즈." },
        { q: "그리드 (Grid)", a: "조명에 장착하여 빛의 확산을 줄이고 방향성을 만들어주는 벌집 모양 액세서리." },
        { q: "디퓨저 (Diffuser)", a: "빛을 분산시켜 부드럽게 만들어주는 반투명한 천이나 판." },
        { q: "동조 한계속도", a: "포컬 플레인 셔터에서 플래시가 화면 전체에 문제없이 터질 수 있는 가장 빠른 셔터 속도." },
        { q: "라이트 페인팅", a: "장노출 동안 광원을 움직여 빛의 궤적을 기록하는 촬영 기법." },
        { q: "램브란트 라이팅", a: "인물의 한쪽 뺨에 역삼각형 모양의 하이라이트를 만드는 고전적인 조명 방식." },
        { q: "렌즈 셔터", a: "렌즈 내부에 위치한 셔터. 플래시 전속 동조가 가능하나 고속 셔터에 한계가 있음." },
        { q: "렌즈 후드", a: "렌즈 전면에 부착하여 불필요한 빛(플레어)을 막고 렌즈를 보호하는 액세서리." },
        { q: "리플렉터 (Reflector)", a: "조명 앞에 장착하여 빛을 모으거나 방향을 제어하는 반사판." },
        { q: "모델링 램프", a: "스튜디오 조명에서 플래시가 터지기 전 빛의 방향과 그림자를 미리 보여주는 지속광." },
        { q: "방진방습", a: "렌즈나 카메라가 먼지와 습기로부터 보호되는 기능." },
        { q: "버터플라이 라이팅", a: "인물의 정면 위에서 조명을 비춰 코 밑에 나비 모양 그림자를 만드는 조명." },
        { q: "분산", a: "빛이 파장에 따라 다른 굴절률로 꺾이는 현상. 색수차의 원인." },
        { q: "블루램프", a: "텅스텐 램프에 청색 코팅을 하여 색온도를 주광(5500K)에 가깝게 만든 조명." },
        { q: "비네팅 (Vignetting)", a: "사진의 가장자리가 중앙부보다 어둡게 나타나는 현상." },
        { q: "색온도", a: "광원의 색을 나타내는 수치 (단위: 켈빈 K)." },
        { q: "색온도계", a: "광원의 색온도를 정밀하게 측정하는 기기." },
        { q: "선막동조", a: "셔터가 열리기 시작할 때 플래시가 터지는 방식." },
        { q: "소프트박스", a: "조명 앞에 장착하는 사각 또는 팔각의 박스 형태로, 빛을 부드럽게 확산시키는 도구." },
        { q: "스누트 (Snoot)", a: "조명에 장착하여 빛을 좁은 원형으로 모아주는 원뿔형 액세서리." },
        { q: "스카이라이트 필터", a: "하늘의 푸른빛을 줄여 사진의 색온도를 미세하게 높여주는 필터." },
        { q: "엄브렐라 (Umbrella)", a: "우산 형태의 조명 액세서리로, 빛을 반사하거나 투과시켜 넓고 부드럽게 만듦." },
        { q: "오픈 플래시", a: "셔터가 열려있는 동안 플래시를 수동으로 여러 번 터뜨리는 기법." },
        { q: "전용 플래시 (TTL Flash)", a: "카메라와 통신하여 자동으로 광량을 조절하는 플래시." },
        { q: "조명비", a: "주조명과 보조조명의 밝기 비율. 사진의 콘트라스트를 결정." },
        { q: "조리개", a: "렌즈 안에서 빛의 양을 조절하는 구멍. F-number(f/값)로 크기를 표시." },
        { q: "조리개우선식", a: "촬영자가 조리개를 설정하면 카메라가 셔터 속도를 자동으로 맞추는 노출 모드." },
        { q: "직사광", a: "강하고 방향성이 뚜렷한 빛. 그림자가 진하게 생김." },
        { q: "텅스텐 램프", a: "필라멘트를 가열하여 빛을 내는 지속광 조명 (색온도 약 3200K~3400K)." },
        { q: "클로즈업 필터", a: "접사 필터와 동일." },
        { q: "필터 계수", a: "필터 사용으로 인해 감소하는 빛의 양을 보정하기 위한 수치." },
        { q: "해상력", a: "렌즈나 필름/센서가 피사체의 세부 사항을 얼마나 정밀하게 묘사할 수 있는지를 나타내는 성능." },
        { q: "확산광", a: "부드럽고 방향성이 약한 빛. 그림자가 연하게 생김." },
        { q: "화이트카드", a: "약 90% 반사율을 가진 흰색 카드로, 노출 보정을 통해 노출 기준으로 사용 가능." },
        { q: "후막동조", a: "셔터가 닫히기 직전에 플래시가 터지는 방식. 움직임의 궤적을 자연스럽게 표현." },
        { q: "회절 (Diffraction)", a: "빛이 조리개처럼 좁은 틈을 지날 때 퍼지는 현상. 과도하게 조이면 화질 저하의 원인이 됨." },
        { q: "CC 필터", a: "색 보정용(Color Compensating) 필터." },
        { q: "CPL (Circular Polarizing) Filter", a: "원편광 필터. DSLR/미러리스의 AF, 측광 오류를 방지." },
        { q: "FL 필터", a: "형광등(Fluorescent) 조명 아래서 촬영 시 발생하는 녹색 기운을 보정하는 필터." },
        { q: "LB 필터", a: "색온도를 미세하게 조정하는(Light Balancing) 필터." },
        { q: "LED 조명", a: "발열이 적고 효율이 높은 지속광 조명." },
        { q: "LPL (Linear Polarizing) 필터", a: "선편광 필터. DSLR 등에서 측광 오류를 일으킬 수 있음." },
        { q: "ND (Neutral Density) Filter", a: "색에 영향을 주지 않고 광량만 줄이는 필터." },
        { q: "PL (Polarizing) Filter", a: "편광 필터. 물이나 유리의 표면 반사를 제거하는 데 사용." },
        { q: "UV (Ultraviolet) Filter", a: "자외선을 차단하는 필터. 현재는 주로 렌즈 보호용으로 사용." }
    ]
};

const mainContent = document.getElementById('mainContent');
const navLinks = document.querySelectorAll('.nav-item');
const searchInput = document.getElementById('searchInput');
const quizBtn = document.getElementById('quizBtn');
const geminiModal = document.getElementById('geminiModal');
const modalTitle = document.getElementById('modalTitle');
const modalBody = document.getElementById('modalBody');
const closeModal = document.getElementById('closeModal');
let charts = {};
let currentQuizData = null;
let currentQuestionIndex = 0;
let score = 0;

const API_KEY = "";
const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${API_KEY}`;

async function callGemini(prompt) {
    showModal();
    modalBody.innerHTML = `<div class="flex items-center justify-center h-40"><div class="loader"></div></div>`;
    
    try {
        const payload = {
            contents: [{ parts: [{ text: prompt }] }],
            generationConfig: {
                responseMimeType: "application/json",
            }
        };

        if (prompt.includes("퀴즈를 생성")) {
            payload.generationConfig.responseSchema = {
                type: "OBJECT",
                properties: {
                    questions: {
                        type: "ARRAY",
                        items: {
                            type: "OBJECT",
                            properties: {
                                question: { type: "STRING" },
                                options: {
                                    type: "ARRAY",
                                    items: { type: "STRING" }
                                },
                                answer: { type: "STRING" }
                            },
                            required: ["question", "options", "answer"]
                        }
                    }
                }
            };
        } else {
             payload.generationConfig.responseMimeType = "text/plain";
             delete payload.generationConfig.responseSchema;
        }

        const response = await fetch(API_URL, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
        });

        if (!response.ok) {
            throw new Error(`API call failed with status: ${response.status}`);
        }

        const result = await response.json();
        const text = result.candidates?.[0]?.content?.parts?.[0]?.text;
        
        if (!text) {
             throw new Error("No content received from API.");
        }
        
        return text;

    } catch (error) {
        console.error("Gemini API call error:", error);
        return `<p class="text-red-500">오류가 발생했습니다: ${error.message}</p>`;
    }
}


function showModal() {
    geminiModal.classList.remove('hidden');
    setTimeout(() => {
        geminiModal.classList.remove('opacity-0');
        geminiModal.querySelector('.modal-content').classList.remove('scale-95');
    }, 10);
}

function hideModal() {
    geminiModal.classList.add('opacity-0');
    geminiModal.querySelector('.modal-content').classList.add('scale-95');
    setTimeout(() => {
        geminiModal.classList.add('hidden');
    }, 300);
}

closeModal.addEventListener('click', hideModal);
geminiModal.addEventListener('click', (e) => {
    if (e.target === geminiModal) {
        hideModal();
    }
});


function createChart(canvasId, label, data, backgroundColor, borderColor) {
    const ctx = document.getElementById(canvasId).getContext('2d');
    if (charts[canvasId]) {
        charts[canvasId].destroy();
    }
    charts[canvasId] = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: data.map(item => item.label),
            datasets: [{
                label: label,
                data: data.map(item => item.value),
                backgroundColor: backgroundColor,
                borderColor: borderColor,
                borderWidth: 1
            }]
        },
        options: {
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: true,
                    ticks: { display: false },
                    grid: { display: false },
                    title: { display: true, text: '상대적 빛의 양 (로그 스케일)' }
                },
                x: {
                    grid: { display: false },
                    ticks: { font: { size: 10 } }
                }
            },
            plugins: {
                legend: { display: false },
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            let value = context.dataset.data[context.dataIndex];
                            return `${context.label}: 빛의 양 ${Math.pow(2, context.dataset.data.length - 1 - value).toFixed(0)}배 감소`;
                        }
                    }
                }
            }
        }
    });
}

function renderContent(category, searchTerm = '') {
    let html = '';
    
    if (category === 'intro') {
        html = `
            <div class="content-card p-6 md:p-8 mb-6">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">사람새퀴면 이정도면 알아봐야 한다. 알아서 공부해라.</h2>
                <p class="text-lg text-gray-600">아래 차트는 사진 노출의 핵심 요소인 '조리개'와 '셔터 속도'의 '스톱' 개념을 시각화한 것입니다. 각 막대를 클릭하거나 마우스를 올려 빛의 양이 어떻게 변하는지 직관적으로 확인해보세요. 1스톱 차이는 빛의 양이 두 배 또는 절반이 되는 것을 의미합니다.</p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="content-card p-6">
                    <h3 class="text-xl font-bold text-center mb-4">조리개 값 (F-Stops)</h3>
                    <div class="chart-container"><canvas id="apertureChart"></canvas></div>
                </div>
                <div class="content-card p-6">
                    <h3 class="text-xl font-bold text-center mb-4">셔터 속도 (Shutter Speeds)</h3>
                    <div class="chart-container"><canvas id="shutterChart"></canvas></div>
                </div>
            </div>
        `;
        mainContent.innerHTML = html;

        const apertureData = [
            { label: 'f/1.4', value: 10 }, { label: 'f/2', value: 9 }, { label: 'f/2.8', value: 8 }, 
            { label: 'f/4', value: 7 }, { label: 'f/5.6', value: 6 }, { label: 'f/8', value: 5 }, 
            { label: 'f/11', value: 4 }, { label: 'f/16', value: 3 }, { label: 'f/22', value: 2 }
        ];
        const shutterData = [
            { label: '1/15s', value: 10 }, { label: '1/30s', value: 9 }, { label: '1/60s', value: 8 }, 
            { label: '1/125s', value: 7 }, { label: '1/250s', value: 6 }, { label: '1/500s', value: 5 }, 
            { label: '1/1000s', value: 4 }, { label: '1/2000s', value: 3 }, { label: '1/4000s', value: 2 }
        ];
        
        setTimeout(() => {
            if (document.getElementById('apertureChart') && document.getElementById('shutterChart')) {
                createChart('apertureChart', '조리개', apertureData, 'rgba(75, 192, 192, 0.6)', 'rgba(75, 192, 192, 1)');
                createChart('shutterChart', '셔터 속도', shutterData, 'rgba(255, 159, 64, 0.6)', 'rgba(255, 159, 64, 1)');
            }
        }, 0);
    } else {
        let itemsToRender = [];
        if (searchTerm) {
            Object.values(photographyData).forEach(cat => {
                itemsToRender.push(...cat.filter(item => item.q.toLowerCase().includes(searchTerm.toLowerCase()) || item.a.toLowerCase().includes(searchTerm.toLowerCase())));
            });
        } else {
            itemsToRender = photographyData[category] || [];
        }

        if (itemsToRender.length > 0) {
            html = itemsToRender.map((item, index) => `
                <div class="content-card mb-4">
                    <div class="question p-6 flex justify-between items-center">
                        <h3 class="text-lg font-bold text-gray-800">${item.q}</h3>
                        <i class="fas fa-chevron-down transform transition-transform"></i>
                    </div>
                    <div class="answer border-t border-gray-200 text-gray-700 leading-relaxed">
                        <p>${item.a.replace(/\n/g, '<br>')}</p>
                        <div class="mt-4 pt-4 border-t border-dashed flex flex-wrap gap-2">
                            <button class="gemini-btn text-sm font-semibold py-1 px-3 rounded-full" data-action="explain" data-q="${item.q.replace(/"/g, '&quot;')}" data-a="${item.a.replace(/"/g, '&quot;')}">✨ 쉽게 설명</button>
                            <button class="gemini-btn text-sm font-semibold py-1 px-3 rounded-full" data-action="deepen" data-q="${item.q.replace(/"/g, '&quot;')}" data-a="${item.a.replace(/"/g, '&quot;')}">✨ 깊이 알아보기</button>
                        </div>
                    </div>
                </div>
            `).join('');
        } else {
            if (searchTerm) {
                html = `<div class="content-card p-6 text-center"><p class="text-gray-500">"${searchTerm}"에 대한 검색 결과가 없습니다.</p></div>`;
            } else {
                html = `<div class="content-card p-6 text-center"><p class="text-gray-500">표시할 내용이 없습니다.</p></div>`;
            }
        }
        mainContent.innerHTML = html;
    }

    document.querySelectorAll('.question').forEach(q => {
        q.addEventListener('click', () => {
            const answer = q.nextElementSibling;
            const icon = q.querySelector('i');
            
            if (answer.classList.contains('open')) {
                answer.classList.remove('open');
                icon.classList.remove('rotate-180');
            } else {
                document.querySelectorAll('.answer.open').forEach(openAnswer => {
                    openAnswer.classList.remove('open');
                    openAnswer.previousElementSibling.querySelector('i').classList.remove('rotate-180');
                });
                answer.classList.add('open');
                icon.classList.add('rotate-180');
            }
        });
    });

    document.querySelectorAll('.gemini-btn').forEach(btn => {
        btn.addEventListener('click', async (e) => {
            const action = e.target.dataset.action;
            const question = e.target.dataset.q;
            const answer = e.target.dataset.a;
            let prompt = '';

            if (action === 'explain') {
                modalTitle.textContent = `"${question}" 쉽게 이해하기`;
                prompt = `사진학 용어인 "${question}"에 대한 다음 설명을 초등학생도 이해할 수 있도록 쉽고 간단한 비유를 들어 한 문단으로 설명해줘. 설명: ${answer}`;
            } else if (action === 'deepen') {
                modalTitle.textContent = `"${question}" 깊이 알아보기`;
                prompt = `사진학 개념인 "${question}"에 대해 더 깊이 알고 싶어. 다음 기본 설명을 바탕으로, 관련된 심화 개념, 역사적 배경, 또는 실전 촬영 팁을 포함하여 전문가 수준의 추가 정보를 제공해줘. 설명: ${answer}`;
            }
            
            if(prompt) {
                const responseText = await callGemini(prompt);
                modalBody.innerHTML = `<p>${responseText.replace(/\n/g, '<br>')}</p>`;
            }
        });
    });
}

function displayQuizQuestion() {
    const q = currentQuizData.questions[currentQuestionIndex];
    const optionsHtml = q.options.map(option => `
        <div class="quiz-option p-4 rounded-lg cursor-pointer mb-2" data-option="${option.replace(/"/g, '&quot;')}">
            ${option}
        </div>
    `).join('');
    modalBody.innerHTML = `
        <div class="mb-4">
            <p class="text-sm text-gray-500">문제 ${currentQuestionIndex + 1} / ${currentQuizData.questions.length}</p>
            <p class="text-lg font-semibold mt-1">${q.question}</p>
        </div>
        <div id="quizOptions">${optionsHtml}</div>
        <div id="quizResult" class="mt-4"></div>
        <div class="flex justify-end mt-4">
            <button id="nextQuestionBtn" class="bg-gray-700 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-800 hidden">다음 문제</button>
        </div>
    `;
    
    const options = modalBody.querySelectorAll('.quiz-option');
    options.forEach(option => {
        option.addEventListener('click', (e) => {
            options.forEach(opt => opt.classList.remove('selected'));
            e.currentTarget.classList.add('selected');
            checkQuizAnswer();
        });
    });
    
    document.getElementById('nextQuestionBtn').addEventListener('click', () => {
        currentQuestionIndex++;
        if (currentQuestionIndex < currentQuizData.questions.length) {
            displayQuizQuestion();
        } else {
            displayQuizFinalScore();
        }
    });
}

function checkQuizAnswer() {
    const selectedOptionEl = modalBody.querySelector('.quiz-option.selected');
    if (!selectedOptionEl) return;
    
    const selectedAnswer = selectedOptionEl.dataset.option;
    const correctAnswer = currentQuizData.questions[currentQuestionIndex].answer;

    modalBody.querySelectorAll('.quiz-option').forEach(opt => {
        opt.style.pointerEvents = 'none'; 
        const optionText = opt.dataset.option;
        if (optionText === correctAnswer) {
            opt.classList.add('correct');
        } else if (opt.classList.contains('selected')) {
            opt.classList.add('incorrect');
        }
    });

    if (selectedAnswer === correctAnswer) {
        score++;
        modalBody.querySelector('#quizResult').innerHTML = `<p class="text-green-600 font-semibold">정답입니다!</p>`;
    } else {
        modalBody.querySelector('#quizResult').innerHTML = `<p class="text-red-600 font-semibold">오답입니다. 정답은 "${correctAnswer}" 입니다.</p>`;
    }
    
    document.getElementById('nextQuestionBtn').classList.remove('hidden');
}

function displayQuizFinalScore() {
    modalBody.innerHTML = `
        <div class="text-center">
            <h2 class="text-2xl font-bold mb-4">퀴즈 완료!</h2>
            <p class="text-lg">총 ${currentQuizData.questions.length}문제 중 <span class="font-bold text-xl text-gray-800">${score}</span>문제를 맞혔습니다.</p>
            <button id="restartQuizBtn" class="mt-6 bg-gray-700 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-800">다시 풀기</button>
        </div>
    `;
    document.getElementById('restartQuizBtn').addEventListener('click', generateQuiz);
}

async function generateQuiz() {
    const activeLink = document.querySelector('.nav-item.active');
    const category = activeLink ? activeLink.dataset.category : 'all';
    const categoryName = activeLink ? activeLink.textContent : '전체';
    
    modalTitle.textContent = `${categoryName} 퀴즈`;
    
    let contentForQuiz = [];
    if (category === 'intro' || category === 'all' || !photographyData[category]) {
         Object.values(photographyData).forEach(cat => contentForQuiz.push(...cat));
    } else {
        contentForQuiz = photographyData[category];
    }
    
    const topics = contentForQuiz.map(item => item.q).slice(0, 15).join(', ');
    const prompt = `다음 사진학 주제들을 바탕으로 객관식 퀴즈 5개를 생성해줘: ${topics}. 각 질문은 4개의 선택지를 가져야 하고, 그 중 하나만 정답이어야 해. 질문, 선택지, 정답을 JSON 형식으로 반환해줘.`;
    
    const responseText = await callGemini(prompt);
    
    try {
        currentQuizData = JSON.parse(responseText);
        currentQuestionIndex = 0;
        score = 0;
        if (currentQuizData.questions && currentQuizData.questions.length > 0) {
            displayQuizQuestion();
        } else {
            throw new Error("Invalid quiz format received.");
        }
    } catch(e) {
        console.error("Quiz parsing error:", e);
        modalBody.innerHTML = `<p class="text-red-500">퀴즈를 생성하는 데 실패했습니다. 잠시 후 다시 시도해주세요.</p>`;
    }
}

quizBtn.addEventListener('click', generateQuiz);


function handleNavClick(e) {
    e.preventDefault();
    const targetLink = e.target.closest('.nav-item');
    if (!targetLink) return;

    searchInput.value = '';
    
    navLinks.forEach(link => link.classList.remove('active'));
    targetLink.classList.add('active');
    
    const category = targetLink.dataset.category;
    renderContent(category);
}

function handleSearch() {
    const searchTerm = searchInput.value;
    if (searchTerm.length > 1) {
        navLinks.forEach(link => link.classList.remove('active'));
        renderContent(null, searchTerm);
    } else if (searchTerm.length === 0) {
        const activeLink = document.querySelector('.nav-item.active') || document.querySelector('.nav-item[data-category="intro"]');
        if(activeLink) {
             activeLink.classList.add('active');
             renderContent(activeLink.dataset.category);
        }
    }
}

document.querySelector('nav ul').addEventListener('click', handleNavClick);
searchInput.addEventListener('input', handleSearch);

// Initial render
renderContent('intro');
</script>
</body>
</html>

